<Project>
  
  <ItemGroup>
    <SqlFiles 
      Include="**\*.sql" 
      Exclude="$(DefaultItemExcludes);$(DefaultExcludesInProjectFolder)" 
    />
  </ItemGroup>

  <Target Name="CopySqlFilesToBuildDirectory" BeforeTargets="Build">
    <Copy 
      SourceFiles="@(SqlFiles)"
      DestinationFolder="$(TargetDir)YeSQL\%(RecursiveDir)"
      SkipUnchangedFiles="true"
    />
    <Message 
      Text="YeSql.Net -> .sql files have been copied to the build directory: '$(TargetDir)YeSQL'." 
      Importance="high"
    />
  </Target>

  <Target Name="CopySqlFilesToPublishDirectory" BeforeTargets="Publish">
    <Copy 
      SourceFiles="@(SqlFiles)"
      DestinationFolder="$(PublishDir)YeSQL\%(RecursiveDir)"
      SkipUnchangedFiles="true"
    />
    <Message
      Text="YeSql.Net -> .sql files have been copied to the publish directory: '$(PublishDir)YeSQL'."
      Importance="high"
    />
  </Target>
  
</Project>